{"version":3,"sources":["../../src/script.js"],"names":["Scene","constructor","model","views","bottom","height","renderer","THREE","WebGLRenderer","antialias","alpha","setSize","window","innerWidth","innerHeight","shadowMap","enabled","type","PCFSoftShadowMap","setPixelRatio","devicePixelRatio","document","body","appendChild","domElement","scene","ii","length","view","camera","PerspectiveCamera","position","fromArray","layers","disableAll","enable","lookAt","Vector3","light","PointLight","z","x","y","add","softLight","AmbientLight","onResize","addEventListener","edges","EdgesGeometry","children","geometry","line","LineSegments","material","depthTest","opacity","transparent","modelGroup","Group","set","render","Math","floor","h","setViewport","w","setScissor","setScissorTest","aspect","camZ","screen","width","updateProjectionMatrix","loadModel","gsap","registerPlugin","ScrollTrigger","object","onModelLoaded","traverse","child","mat","MeshPhongMaterial","color","specular","shininess","flatShading","setupAnimation","manager","LoadingManager","onProgress","item","loaded","total","console","log","loader","OBJLoader","load","obj","plane","fromTo","autoAlpha","duration","to","tau","PI","rotation","sectionDuration","ease","scrollTrigger","trigger","scrub","start","end","from","tl","timeline","onUpdate","defaults","delay"],"mappings":"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","sourcesContent":["// There are 3 parts to this\n//\n// Scene:           Setups and manages threejs rendering\n// loadModel:       Loads the 3d obj file\n// setupAnimation:  Creates all the GSAP\n//                  animtions and scroll triggers\n//\n// first we call loadModel, once complete we call\n// setupAnimation which creates a new Scene\n\nclass Scene {\n\tconstructor(model) {\n\t\tthis.views = [\n\t\t\t{ bottom: 0, height: 1 },\n\t\t\t{ bottom: 0, height: 0 }\n\t\t];\n\n\t\tthis.renderer = new THREE.WebGLRenderer({\n\t\t\tantialias: true,\n\t\t\talpha: true\n\t\t});\n\n\t\tthis.renderer.setSize(window.innerWidth, window.innerHeight);\n\t\tthis.renderer.shadowMap.enabled = true;\n\t\tthis.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\t\tthis.renderer.setPixelRatio(window.devicePixelRatio);\n\n\t\tdocument.body.appendChild(this.renderer.domElement);\n\n\t\t// scene\n\t\tthis.scene = new THREE.Scene();\n\n\t\tfor (var ii = 0; ii < this.views.length; ++ii) {\n\n\t\t\tvar view = this.views[ii];\n\t\t\tvar camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 2000);\n\t\t\tcamera.position.fromArray([0, 0, 180]);\n\t\t\tcamera.layers.disableAll();\n\t\t\tcamera.layers.enable(ii);\n\t\t\tview.camera = camera;\n\t\t\tcamera.lookAt(new THREE.Vector3(0, 5, 0));\n\t\t}\n\n\t\t//light\n\n\t\tthis.light = new THREE.PointLight(0xffffff, 0.75);\n\t\tthis.light.position.z = 150;\n\t\tthis.light.position.x = 70;\n\t\tthis.light.position.y = -20;\n\t\tthis.scene.add(this.light);\n\n\t\tthis.softLight = new THREE.AmbientLight(0xffffff, 1.5);\n\t\tthis.scene.add(this.softLight)\n\n\t\t// group\n\n\t\tthis.onResize();\n\t\twindow.addEventListener('resize', this.onResize, false);\n\n\t\tvar edges = new THREE.EdgesGeometry(model.children[0].geometry);\n\t\tlet line = new THREE.LineSegments(edges);\n\t\tline.material.depthTest = false;\n\t\tline.material.opacity = 0.5;\n\t\tline.material.transparent = true;\n\t\tline.position.x = 0.5;\n\t\tline.position.z = -1;\n\t\tline.position.y = 0.2;\n\n\t\tthis.modelGroup = new THREE.Group();\n\n\t\tmodel.layers.set(0);\n\t\tline.layers.set(1);\n\n\t\tthis.modelGroup.add(model);\n\t\tthis.modelGroup.add(line);\n\t\tthis.scene.add(this.modelGroup);\n\t}\n\n\trender = () => {\n\t\tfor (var ii = 0; ii < this.views.length; ++ii) {\n\n\t\t\tvar view = this.views[ii];\n\t\t\tvar camera = view.camera;\n\n\t\t\tvar bottom = Math.floor(this.h * view.bottom);\n\t\t\tvar height = Math.floor(this.h * view.height);\n\n\t\t\tthis.renderer.setViewport(0, 0, this.w, this.h);\n\t\t\tthis.renderer.setScissor(0, bottom, this.w, height);\n\t\t\tthis.renderer.setScissorTest(true);\n\n\t\t\tcamera.aspect = this.w / this.h;\n\t\t\tthis.renderer.render(this.scene, camera);\n\t\t}\n\t}\n\n\tonResize = () => {\n\t\tthis.w = window.innerWidth;\n\t\tthis.h = window.innerHeight;\n\n\t\tfor (var ii = 0; ii < this.views.length; ++ii) {\n\t\t\tvar view = this.views[ii];\n\t\t\tvar camera = view.camera;\n\t\t\tcamera.aspect = this.w / this.h;\n\t\t\tlet camZ = (screen.width - (this.w * 1)) / 3;\n\t\t\tcamera.position.z = camZ < 180 ? 180 : camZ;\n\t\t\tcamera.updateProjectionMatrix();\n\t\t}\n\n\t\tthis.renderer.setSize(this.w, this.h);\n\t\tthis.render();\n\t}\n}\n\nfunction loadModel() {\n\tgsap.registerPlugin(ScrollTrigger);\n\t// gsap.registerPlugin(DrawSVGPlugin);\n\t// gsap.set('#line-length', { drawSVG: 0 })\n\t// gsap.set('#line-wingspan', { drawSVG: 0 })\n\t// gsap.set('#circle-phalange', { drawSVG: 0 })\n\n\tvar object;\n\n\tfunction onModelLoaded() {\n\t\tobject.traverse(function (child) {\n\t\t\tlet mat = new THREE.MeshPhongMaterial({ color: 0x171511, specular: 0xD0CBC7, shininess: 5, flatShading: true });\n\t\t\tchild.material = mat;\n\t\t});\n\n\t\tsetupAnimation(object);\n\t}\n\n\tvar manager = new THREE.LoadingManager(onModelLoaded);\n\tmanager.onProgress = (item, loaded, total) => console.log(item, loaded, total);\n\n\tvar loader = new THREE.OBJLoader(manager);\n\tloader.load('https://assets.codepen.io/557388/1405+Plane_1.obj', function (obj) { object = obj; });\n}\n\nfunction setupAnimation(model) {\n\tlet scene = new Scene(model);\n\tlet plane = scene.modelGroup;\n\n\tgsap.fromTo('canvas', { x: \"50%\", autoAlpha: 0 }, { duration: 1, x: \"0%\", autoAlpha: 1 });\n\tgsap.to('.loading', { autoAlpha: 0 })\n\tgsap.to('.scroll-cta', { opacity: 1 })\n\tgsap.set('svg', { autoAlpha: 1 })\n\n\tlet tau = Math.PI * 2;\n\n\tgsap.set(plane.rotation, { y: tau * -.25 });\n\tgsap.set(plane.position, { x: 80, y: -32, z: -60 });\n\n\tscene.render();\n\n\tvar sectionDuration = 1;\n\tgsap.fromTo(scene.views[1],\n\t\t{ height: 1, bottom: 0 },\n\t\t{\n\t\t\theight: 0, bottom: 1,\n\t\t\tease: 'none',\n\t\t\tscrollTrigger: {\n\t\t\t\ttrigger: \".blueprint\",\n\t\t\t\tscrub: true,\n\t\t\t\tstart: \"bottom bottom\",\n\t\t\t\tend: \"bottom top\"\n\t\t\t}\n\t\t})\n\n\tgsap.fromTo(scene.views[1],\n\t\t{ height: 0, bottom: 0 },\n\t\t{\n\t\t\theight: 1, bottom: 0,\n\t\t\tease: 'none',\n\t\t\tscrollTrigger: {\n\t\t\t\ttrigger: \".blueprint\",\n\t\t\t\tscrub: true,\n\t\t\t\tstart: \"top bottom\",\n\t\t\t\tend: \"top top\"\n\t\t\t}\n\t\t})\n\n\tgsap.to('.ground', {\n\t\ty: \"30%\",\n\t\tscrollTrigger: {\n\t\t\ttrigger: \".ground-container\",\n\t\t\tscrub: true,\n\t\t\tstart: \"top bottom\",\n\t\t\tend: \"bottom top\"\n\t\t}\n\t})\n\n\tgsap.from('.clouds', {\n\t\ty: \"25%\",\n\t\tscrollTrigger: {\n\t\t\ttrigger: \".ground-container\",\n\t\t\tscrub: true,\n\t\t\tstart: \"top bottom\",\n\t\t\tend: \"bottom top\"\n\t\t}\n\t})\n\n\t// gsap.to('#line-length', {\n\t// \tdrawSVG: 100,\n\t// \tscrollTrigger: {\n\t// \t\ttrigger: \".length\",\n\t// \t\tscrub: true,\n\t// \t\tstart: \"top bottom\",\n\t// \t\tend: \"top top\"\n\t// \t}\n\t// })\n\n\t// gsap.to('#line-wingspan', {\n\t// \tdrawSVG: 100,\n\t// \tscrollTrigger: {\n\t// \t\ttrigger: \".wingspan\",\n\t// \t\tscrub: true,\n\t// \t\tstart: \"top 25%\",\n\t// \t\tend: \"bottom 50%\"\n\t// \t}\n\t// })\n\n\t// gsap.to('#circle-phalange', {\n\t// \tdrawSVG: 100,\n\t// \tscrollTrigger: {\n\t// \t\ttrigger: \".phalange\",\n\t// \t\tscrub: true,\n\t// \t\tstart: \"top 50%\",\n\t// \t\tend: \"bottom 100%\"\n\t// \t}\n\t// })\n\n\t// gsap.to('#line-length', {\n\t// \topacity: 0,\n\t// \tdrawSVG: 0,\n\t// \tscrollTrigger: {\n\t// \t\ttrigger: \".length\",\n\t// \t\tscrub: true,\n\t// \t\tstart: \"top top\",\n\t// \t\tend: \"bottom top\"\n\t// \t}\n\t// })\n\n\t// gsap.to('#line-wingspan', {\n\t// \topacity: 0,\n\t// \tdrawSVG: 0,\n\t// \tscrollTrigger: {\n\t// \t\ttrigger: \".wingspan\",\n\t// \t\tscrub: true,\n\t// \t\tstart: \"top top\",\n\t// \t\tend: \"bottom top\"\n\t// \t}\n\t// })\n\n\t// gsap.to('#circle-phalange', {\n\t// \topacity: 0,\n\t// \tdrawSVG: 0,\n\t// \tscrollTrigger: {\n\t// \t\ttrigger: \".phalange\",\n\t// \t\tscrub: true,\n\t// \t\tstart: \"top top\",\n\t// \t\tend: \"bottom top\"\n\t// \t}\n\t// })\n\n\tlet tl = new gsap.timeline(\n\t\t{\n\t\t\tonUpdate: scene.render,\n\t\t\tscrollTrigger: {\n\t\t\t\ttrigger: \".content\",\n\t\t\t\tscrub: true,\n\t\t\t\tstart: \"top top\",\n\t\t\t\tend: \"bottom bottom\"\n\t\t\t},\n\t\t\tdefaults: { duration: sectionDuration, ease: 'power2.inOut' }\n\t\t});\n\n\tlet delay = 0;\n\n\ttl.to('.scroll-cta', { duration: 0.25, opacity: 0 }, delay)\n\ttl.to(plane.position, { x: -10, ease: 'power1.in' }, delay)\n\n\tdelay += sectionDuration;\n\n\ttl.to(plane.rotation, { x: tau * .25, y: 0, z: -tau * 0.05, ease: 'power1.inOut' }, delay)\n\ttl.to(plane.position, { x: -40, y: 0, z: -60, ease: 'power1.inOut' }, delay)\n\n\tdelay += sectionDuration;\n\n\ttl.to(plane.rotation, { x: tau * .25, y: 0, z: tau * 0.05, ease: 'power3.inOut' }, delay)\n\ttl.to(plane.position, { x: 40, y: 0, z: -60, ease: 'power2.inOut' }, delay)\n\n\tdelay += sectionDuration;\n\n\ttl.to(plane.rotation, { x: tau * .2, y: 0, z: -tau * 0.1, ease: 'power3.inOut' }, delay)\n\ttl.to(plane.position, { x: -40, y: 0, z: -30, ease: 'power2.inOut' }, delay)\n\n\tdelay += sectionDuration;\n\n\ttl.to(plane.rotation, { x: 0, z: 0, y: tau * .25 }, delay)\n\ttl.to(plane.position, { x: 0, y: -10, z: 50 }, delay)\n\n\tdelay += sectionDuration;\n\tdelay += sectionDuration;\n\n\ttl.to(plane.rotation, { x: tau * 0.25, y: tau * .5, z: 0, ease: 'power4.inOut' }, delay)\n\ttl.to(plane.position, { z: 30, ease: 'power4.inOut' }, delay)\n\n\tdelay += sectionDuration;\n\n\ttl.to(plane.rotation, { x: tau * 0.25, y: tau * .5, z: 0, ease: 'power4.inOut' }, delay)\n\ttl.to(plane.position, { z: 60, x: 30, ease: 'power4.inOut' }, delay)\n\n\tdelay += sectionDuration;\n\n\ttl.to(plane.rotation, { x: tau * 0.35, y: tau * .75, z: tau * 0.6, ease: 'power4.inOut' }, delay)\n\ttl.to(plane.position, { z: 100, x: 20, y: 0, ease: 'power4.inOut' }, delay)\n\n\tdelay += sectionDuration;\n\n\ttl.to(plane.rotation, { x: tau * 0.15, y: tau * .85, z: -tau * 0, ease: 'power1.in' }, delay)\n\ttl.to(plane.position, { z: -150, x: 0, y: 0, ease: 'power1.inOut' }, delay)\n\n\tdelay += sectionDuration;\n\n\ttl.to(plane.rotation, { duration: sectionDuration, x: -tau * 0.05, y: tau, z: -tau * 0.1, ease: 'none' }, delay)\n\ttl.to(plane.position, { duration: sectionDuration, x: 0, y: 30, z: 320, ease: 'power1.in' }, delay)\n\n\ttl.to(scene.light.position, { duration: sectionDuration, x: 0, y: 0, z: 0 }, delay)\n}\n\nloadModel();"],"file":"script.js"}